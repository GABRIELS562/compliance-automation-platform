[security]
# Security settings for compliance environments
admin_user = admin
admin_password = $__file{/etc/grafana/admin_password}
disable_gravatar = true
cookie_secure = true
cookie_samesite = strict
strict_transport_security = true
strict_transport_security_max_age_seconds = 86400

[auth]
# Disable anonymous access for compliance
disable_login_form = false
disable_signout_menu = false

[auth.anonymous]
# Disable anonymous access - all users must authenticate
enabled = false

[auth.basic]
# Enable basic auth for programmatic access
enabled = true

[users]
# User management settings
allow_sign_up = false
allow_org_create = false
auto_assign_org = true
auto_assign_org_role = Viewer
default_theme = dark

[dashboards]
# Dashboard settings
default_home_dashboard_path = /etc/grafana/provisioning/dashboards/executive-compliance.json

[alerting]
# Enable alerting for compliance notifications
enabled = true

[log]
# Enhanced logging for audit trail
mode = console file
level = info
format = json

[log.file]
# Structured logging for compliance audit
log_rotate = true
max_lines = 1000000
max_size_shift = 28
daily_rotate = true
max_days = 7

[database]
# Use SQLite for simplicity in containers
type = sqlite3
path = /var/lib/grafana/grafana.db

[session]
# Session security
provider = memory
cookie_name = grafana_sess
cookie_secure = true
session_life_time = 86400
gc_interval_time = 86400

[server]
# Server configuration
protocol = http
http_port = 3000
domain = localhost
enforce_domain = true
root_url = %(protocol)s://%(domain)s:%(http_port)s/

[panels]
# Disable code execution in panels for security
disable_sanitize_html = false